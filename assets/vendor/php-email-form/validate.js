!function(){"use strict";let e=document.querySelectorAll(".php-email-form");function a(t,r,e){fetch(r,{method:"POST",body:e,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(e.ok)return e.text();throw new Error("${response.status} ${response.statusText} ${response.url}")}).then(e=>{if(t.querySelector(".loading").classList.remove("d-block"),"OK"!=e.trim())throw new Error(e||"Form submission failed and no error message returned from: "+r);t.querySelector(".sent-message").classList.add("d-block"),t.reset()}).catch(e=>{c(t)})}function c(e){e.querySelector(".loading").classList.remove("d-block"),e.querySelector(".error-message").innerHTML="Your message has been sent. Thank you!",e.querySelector(".error-message").classList.add("d-block")}e.forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault();var r=this,s=r.getAttribute("action"),o=r.getAttribute("data-recaptcha-site-key");if(s){r.querySelector(".loading").classList.add("d-block"),r.querySelector(".error-message").classList.remove("d-block"),r.querySelector(".sent-message").classList.remove("d-block");let t=new FormData(r);o?"undefined"!=typeof grecaptcha?grecaptcha.ready(function(){try{grecaptcha.execute(o,{action:"php_email_form_submit"}).then(e=>{t.set("recaptcha-response",e),a(r,s,t)})}catch(e){c(r)}}):c(r):a(r,s,t)}else c(r)})})}();
